(this.webpackJsonpprueba=this.webpackJsonpprueba||[]).push([[0],{26:function(e,t,a){},37:function(e,t,a){},61:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(4),o=a.n(c),r=a(52),i=a.n(r),s=(a(61),a.p,a(37),a(8)),l=a(13),j=(a(26),a(14)),b=a(20),d=a.n(b);var u=function(e){var t=Object(c.useState)([]),a=Object(s.a)(t,2),o=a[0],r=a[1],i=Object(c.useState)(!0),b=Object(s.a)(i,2),d=b[0],u=b[1];return Object(c.useEffect)((function(){fetch("https://fakestoreapi.com/products/categories").then((function(e){return e.json()})).then((function(e){r(e),u(!1),console.log(e)}))}),[]),d?Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{animation:"border",size:"me"})}):Object(n.jsx)(n.Fragment,{children:o.map((function(e){return Object(n.jsxs)("li",{children:[Object(n.jsx)(l.b,{to:"/categorias/"+e,children:e}),Object(n.jsx)("br",{})]})}))})},m=o.a.createContext({});var O=function(e){var t=Object(c.useState)(" "),a=Object(s.a)(t,2),o=(a[0],a[1],Object(c.useContext)(m));return Object(c.useEffect)((function(){o.activarMenu(sessionStorage.getItem("menuActivo"))})),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(l.b,{id:"boton",to:e.opcion.path,boton:e.opcion.boton,children:Object(n.jsx)("span",{onClick:function(t){console.log("Tipo de elemento",t.target.tagName),"Categorias"!==e.opcion.boton?(console.log("BOTON",t.target.innerHTML),o.activarMenu(e.opcion.boton)):"A"!=t.target.tagName&&"LI"!=t.target.tagName||(console.log("OR LOGICO"),o.activarMenu("Home"))},className:"menu",style:{display:"inline",padding:"10px"},children:Object(n.jsxs)("span",{title:e.opcion.boton,children:[e.opcion.boton," ","Categorias"==e.opcion.boton&&Object(n.jsx)("span",{className:"submenu",children:Object(n.jsx)("ul",{children:Object(n.jsx)(u,{})})})]})})})})},p=a(33);p.a.initializeApp({apiKey:"AIzaSyAUEsr4E_ysw7ZkvBQvHb-AlB0McP9EWUo",authDomain:"proyecto1-cb1b1.firebaseapp.com",projectId:"proyecto1-cb1b1",storageBucket:"proyecto1-cb1b1.appspot.com",messagingSenderId:"668791776701",appId:"1:668791776701:web:ea1b3a8a6234d3ff471ed4"});var x=p.a.firestore();p.a.auth=p.a.auth(),p.a.db=x;var h=p.a,g=a(18),f=a(34);var v=function(e){var t=Object(c.useContext)(m),a=Object(g.e)();return Object(n.jsx)("div",{id:"idSesion",style:{display:"none"},children:Object(n.jsxs)("ul",{id:"ulSesion",children:[Object(n.jsxs)("li",{children:[Object(n.jsx)(l.b,{to:"/misdatos",children:Object(n.jsx)("p",{onClick:function(){document.getElementById("idSesion").style.display="none"},children:"Mis Datos"})}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("li",{children:[Object(n.jsx)(l.b,{onClick:function(){t.logOut(),a.push("/")},to:"/",children:Object(n.jsx)("p",{id:"exit",children:"Salir"})}),Object(n.jsx)("br",{})]})]})})};var y=function(e){var t=Object(c.useContext)(m);Object(g.e)(),Object(c.useEffect)((function(){d()(document).on("click",(function(e){t.ocultarSesion(e)}))}),[]);var a=function(){var e=document.getElementById("idSesion");"none"==e.style.display?e.style.display="block":e.style.display="none"};return Object(n.jsx)(m.Consumer,{children:function(e){return Object(n.jsxs)(n.Fragment,{children:[e.loading2&&Object(n.jsx)("div",{style:{textAlign:"right"},children:Object(n.jsx)(j.a,{animation:"border",size:"sm"})}),e.login&&Object(n.jsx)(n.Fragment,{children:""!==e.usuario&&Object(n.jsx)("header",{children:Object(n.jsx)("div",{style:{padding:"13px"},children:Object(n.jsxs)("div",{style:{textAlign:"right"},children:[Object(n.jsxs)("label",{style:{padding:"0px 10px"},children:[Object(n.jsxs)("div",{id:"usuario",onClick:a,children:[e.usuario," ",Object(n.jsx)(f.c,{})]}),Object(n.jsx)(v,{}),Object(n.jsx)("div",{className:"clear"})]}),1==e.loading2&&Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{animation:"border",size:"sm"})}),Object(n.jsx)("img",{style:{borderRadius:"6px",border:"2px solid #007bff"},height:"40px",src:e.imagen})]})})})}),Object(n.jsxs)("nav",{children:[Object(n.jsx)(O,{opcion:{path:"/",boton:"Home"}}),e.login&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{opcion:{path:"/productos/page/1",boton:"Productos"}}),Object(n.jsx)(O,{opcion:{boton:"Categorias"}}),Object(n.jsx)(O,{opcion:{path:"/",boton:"Contactanos"}})]}),!e.login&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{opcion:{path:"/registro",boton:"Registro"}}),Object(n.jsx)(O,{opcion:{path:"/login",boton:"Login"}}),Object(n.jsx)(O,{opcion:{path:"/",boton:"Contactanos"}})]}),Object(n.jsx)("div",{className:"clear"})]})]})}})},S=a(54),C=a(29),I=a.n(C),E=a(36),w=(a(55),a(17)),B=a(16),L=a(39),N=a(35),P=a(32),k=a(41);var T=function(e){var t=[],a=Object(c.useContext)(m),o=Object(c.useState)([]),r=Object(s.a)(o,2),i=r[0],b=r[1],u=Object(c.useState)(!0),O=Object(s.a)(u,2),p=O[0],x=O[1],h=Object(c.useState)([]),g=Object(s.a)(h,2),v=g[0],y=g[1],C=Math.ceil(i.length/4),T=Object(c.useState)(!0),F=Object(s.a)(T,2),A=F[0],M=F[1],D=Object(c.useState)(!1),U=Object(s.a)(D,2),R=U[0],z=U[1],H=Object(c.useState)(""),q=Object(s.a)(H,2),V=q[0],J=q[1],G=Object(c.useState)([]),W=Object(s.a)(G,2),_=W[0],K=W[1],Q=Object(c.useState)(e.match.params.page),Z=Object(s.a)(Q,2),$=Z[0],X=Z[1],Y=1,ee=Object(c.useState)(),te=Object(s.a)(ee,2),ae=(te[0],te[1],Object(c.useState)(!1)),ne=Object(s.a)(ae,2),ce=ne[0],oe=ne[1];function re(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(E.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.slice(4*(t-1),4*t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t,a){return le.apply(this,arguments)}function le(){return(le=Object(E.a)(I.a.mark((function e(t,a,n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(t.slice((n-1)*a,n*a)),e.abrupt("return",x(!1));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(){X(parseFloat($)+1),window.scrollTo(0,0)}function be(e){var t=e.target.innerHTML;X(t),window.scrollTo(0,0)}function de(){window.scrollTo(0,0),X($-1)}window.onload=function(){for(;Y<=C;)t.push(Y),Y++}(),Object(c.useEffect)(Object(E.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),a.activarMenu("Productos"),fetch("https://fakestoreapi.com/products").then((function(e){return e.json()})).then((function(e){b(e),x(!1),M(!1),0==_.length&&se(e,4,$),z(!0),d()("#buton"+$).addClass("NroPagActive")}));case 3:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)(Object(E.a)(I.a.mark((function t(){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),$=e.match.params.page,t.next=4,re($);case 4:n=t.sent,y(n),R&&x(!1),d()(".NroPagActive").removeClass("NroPagActive"),d()("#buton"+$).addClass("NroPagActive"),a.minimizar();case 10:case"end":return t.stop()}}),t)}))),[$,e.match.params.page]);var ue=function(e){var t=e.target.value;if(J(t),""==t)oe(!1);else{var a=[];oe(!0);var n,c=Object(S.a)(i);try{for(c.s();!(n=c.n()).done;){var o=n.value;if(-1!==o.title.toLowerCase().indexOf(t.toLowerCase())){var r=o;a.push(r)}}}catch(s){c.e(s)}finally{c.f()}K(a)}},me=function(e){e.preventDefault();var t=e.currentTarget.value;a.guardarListaCompra(t)};return p?Object(n.jsx)("div",{className:"spinner",children:Object(n.jsx)(j.a,{animation:"border"})}):Object(n.jsx)(m.Consumer,{children:function(e){return Object(n.jsx)(n.Fragment,{children:e.login&&Object(n.jsxs)(L.a,{className:"contain",children:[Object(n.jsxs)("div",{id:"busquedaProd",children:[Object(n.jsx)("input",{id:"inputBusqueda",type:"text",placeholder:"B\xfasqueda",onChange:ue,value:V}),Object(n.jsx)("button",{id:"buscar",children:Object(n.jsx)(k.b,{})})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),0==ce&&Object(n.jsx)(N.a,{children:v.map((function(e){return Object(n.jsx)(P.a,{children:Object(n.jsx)(B.a,{style:{width:"12rem",marginBottom:"10px"},children:Object(n.jsxs)(B.a.Body,{children:[A&&Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{animation:"border"})}),Object(n.jsx)(B.a.Img,{variant:"top",src:e.image}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:e.title}),Object(n.jsx)(l.b,{to:"/productos/"+e.id,children:Object(n.jsx)(w.a,{children:"Ver detalle"})})," ",Object(n.jsx)(w.a,{onClick:me,value:e.title,children:Object(n.jsx)(k.a,{})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})})})}))}),1==ce&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("p",{children:['Resultados de "',Object(n.jsx)("p",{id:"valorBuscado",children:V}),' " : ',_.length]}),Object(n.jsx)("br",{}),Object(n.jsx)(N.a,{children:_.map((function(e){return Object(n.jsx)(P.a,{children:Object(n.jsx)(B.a,{style:{width:"12rem",marginBottom:"10px"},children:Object(n.jsxs)(B.a.Body,{children:[A&&Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{animation:"border"})}),Object(n.jsx)(B.a.Img,{variant:"top",src:e.image}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("p",{children:e.title}),Object(n.jsx)(l.b,{to:"/productos/"+e.id,children:Object(n.jsx)(w.a,{children:"Ver detalle"})})," ",Object(n.jsx)(w.a,{onClick:me,value:e.title,children:Object(n.jsx)(k.a,{})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})})})}))})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})," ",0==ce&&Object(n.jsxs)("div",{id:"paginacion",children:[$>1&&Object(n.jsx)(l.b,{to:"/productos/page/"+(parseFloat($)-1),children:Object(n.jsx)(w.a,{size:"sm",onClick:de,children:Object(n.jsx)(f.a,{})})}),t.map((function(e){return Object(n.jsx)(l.b,{to:"/productos/page/"+e,children:Object(n.jsx)("button",{className:"button",style:{margin:"2px"},onClick:be,id:"buton"+e,children:e})})})),$<C&&Object(n.jsx)(l.b,{to:"/productos/page/"+(parseFloat($)+1),children:Object(n.jsx)(w.a,{size:"sm",onClick:je,children:Object(n.jsx)(f.b,{})})}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})]})})}})};var F=function(e){var t=Object(c.useState)(!0),a=Object(s.a)(t,2),o=a[0],r=a[1],i=Object(c.useContext)(m),b=Object(c.useState)({}),d=Object(s.a)(b,2),u=d[0],O=d[1];return Object(c.useEffect)((function(){var t=e.match.params.id;fetch("https://fakestoreapi.com/products/"+t).then((function(e){return e.json()})).then((function(e){O(e),r(!1)})),i.activarMenu("Productos")}),[]),o?Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{animation:"border"})}):Object(n.jsxs)("div",{className:"detalleProds",children:[Object(n.jsxs)("h3",{children:[" ",u.title]})," ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("img",{height:"150px",src:u.image}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("p",{className:"descripcion",children:u.description}),Object(n.jsx)("h5",{children:"Categor\xeda: "}),Object(n.jsx)(l.b,{to:"/categorias/"+u.category,children:Object(n.jsx)("p",{children:u.category})}),Object(n.jsx)("h5",{children:"Precio: "}),Object(n.jsxs)("p",{className:"precio",children:["$ ",u.price]}),"  ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(w.a,{children:"Comprar"})]})},A=(a(44),a.p+"static/media/ecommerce.aaa6bf2d.png");var M=function(e){var t=Object(c.useContext)(m);return Object(c.useEffect)((function(){t.activarMenu("Home"),t.minimizar()}),[]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsxs)("span",{id:"homeTitle",children:[Object(n.jsx)("h2",{children:"Sitio de Ecommerce"}),Object(n.jsxs)("p",{children:["Sitio de compras online. Donde pod\xe9s armar tu pedido y recibirlo en tu casa.",Object(n.jsx)(l.b,{to:"productos/page/1",children:Object(n.jsx)("button",{id:"botonPedido",children:Object(n.jsx)("p",{children:"Realizar pedido"})})})]})]}),Object(n.jsx)("img",{width:"50%",id:"imgHome",src:A}),Object(n.jsx)("div",{className:"clear"})]})},D=a(30),U=a(28),R=a(24);var z=function(e){return Object(n.jsxs)(R.a.Group,{controlId:"formBasic"+e.name,children:[Object(n.jsx)(R.a.Label,{children:Object(n.jsx)("strong",{children:e.label})}),Object(n.jsx)(R.a.Control,{required:!0,type:e.type,placeholder:e.placeholder,name:e.name,value:e.value,onChange:e.onChange})]})};var H=function(e){var t=Object(c.useContext)(m),a=Object(c.useState)(!1),o=Object(s.a)(a,2),r=o[0],i=o[1],l=Object(c.useState)(!1),b=Object(s.a)(l,2),d=b[0],u=b[1],O=Object(c.useState)({nombre:"",apellido:"",email:"",telefono:"",password:"",foto:""}),p=Object(s.a)(O,2),x=p[0],g=p[1];Object(c.useEffect)((function(){t.activarMenu("Registro")}),[]);var f=Object(c.useState)(null),v=Object(s.a)(f,2),y=v[0],S=v[1],C=function(){document.getElementById("inputfile").value="",S(null);var e=document.getElementById("file-preview");e.src="",e.remove()},I=function(e){var t=e.target,a=t.value,n=t.name;g(Object(U.a)(Object(U.a)({},x),{},Object(D.a)({},n,a)))};return Object(n.jsx)(B.a,{style:{width:"60%",margin:"auto",padding:"15px"},children:Object(n.jsxs)(B.a.Body,{children:[Object(n.jsx)(B.a.Title,{children:"Registro"}),Object(n.jsxs)(R.a,{onSubmit:function(e){(e.preventDefault(),i(!0),x.nombre&&x.apellido&&x.email&&x.password&&x.telefono)?h.storage().ref("imagenes/"+y.name).put(y).on("state_changed",(function(e){e.bytesTransferred,e.totalBytes;switch(e.state){case h.storage.TaskState.PAUSED:case h.storage.TaskState.RUNNING:}}),(function(e){e.code}),(function(){h.storage().ref("imagenes").child(y.name).getDownloadURL().then((function(e){i(!1);var t=x.email,a=x.password;h.auth.createUserWithEmailAndPassword(t,a).then((function(t){h.db.collection("usuarios").add({nombre:x.nombre,apellido:x.apellido,email:x.email,telefono:x.telefono,foto:e,userId:t.user.uid})})).then((function(e){C(),i(!1),S(null),g({nombre:"",apellido:"",email:"",telefono:"",foto:"",password:""})}))})),alert("Se ha registrado")})):(alert("Campos incompletos"),i(!1))},children:[Object(n.jsx)(z,{label:"Nombre",type:"text",placeholder:"Ingrese nombre*",required:!0,value:x.nombre,onChange:I,name:"nombre"}),Object(n.jsx)(z,{label:"Apellido",type:"text",placeholder:"Ingrese apellido*",required:!0,value:x.apellido,onChange:I,name:"apellido"}),Object(n.jsx)(z,{label:"Telefono",type:"number",placeholder:"Ingrese tel\xe9fono*",required:!0,value:x.telefono,onChange:I,name:"telefono"}),Object(n.jsx)(z,{label:"E-mail",type:"email",placeholder:"Ingrese email*",required:!0,value:x.email,onChange:I,name:"email"}),Object(n.jsx)(z,{label:"Password",type:"password",placeholder:"Password*",required:!0,value:x.password,onChange:I,name:"password"}),Object(n.jsx)("label",{children:"Foto"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{required:!0,id:"inputfile",onChange:function(e){var t=document.getElementById("file-preview");null!==t&&t.remove();var a=e.target.files[0];if(a){u(!0);var n=new FileReader;n.readAsDataURL(a),n.onload=function(){var e=document.createElement("img");e.id="file-preview",e.style.maxHeight="70px",e.src=n.result,document.getElementById("vistaprevia").appendChild(e),u(!1)}}S(a)},type:"file",accept:"image/*",name:"foto"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{style:{border:"1px dashed #bfbfbf",borderRadius:"6px",padding:"15px",width:"60%"},children:[Object(n.jsx)("label",{id:"vistaprevia"}),y&&Object(n.jsx)(w.a,{onClick:C,style:{margin:"15px"},children:"Borrar"})]}),d&&Object(n.jsx)("div",{children:Object(n.jsx)(j.a,{animation:"border"})}),Object(n.jsx)(n.Fragment,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(w.a,{type:"submit",disabled:r,children:[r&&Object(n.jsx)(j.a,{animation:"border",size:"sm"}),"Registrarse"]})]})]})})};var q=function(e){var t=Object(c.useState)({email:"",password:""}),a=Object(s.a)(t,2),o=a[0],r=a[1],i=Object(c.useState)(!1),l=Object(s.a)(i,2),b=l[0],d=l[1],u=Object(c.useContext)(m),O=Object(c.useState)(""),p=Object(s.a)(O,2),x=(p[0],p[1],Object(g.e)());Object(c.useEffect)((function(){u.activarMenu("Login")}),[]);var f=function(e){var t=e.target,a=t.value,n=t.name;r(Object(U.a)(Object(U.a)({},o),{},Object(D.a)({},n,a)))};return Object(n.jsx)(B.a,{style:{width:"60%",margin:"auto",padding:"15px"},children:Object(n.jsxs)(B.a.Body,{children:[Object(n.jsx)(B.a.Title,{children:"Login"}),Object(n.jsxs)(R.a,{onSubmit:function(e){e.preventDefault(),d(!0),u.Loading2();var t=o.email,a=o.password;h.auth.signInWithEmailAndPassword(t,a).then((function(e){d(!1),alert("Se logue\xf3"),h.db.collection("usuarios").where("email","==",t).get().then((function(e){e.forEach((function(e){console.log("CONSULTA",e.id," => ",e.data().nombre);var a=e.data().nombre,n=e.data().foto;u.ponerfoto(n),u.ponerNombre(a),u.guardarEmail(t),u.logUser(),u.noLoading2()}))})).catch((function(e){u.noLoading2(),console.log("Error getting documents: ",e)})),r({email:"",password:""}),x.push("/")})).catch((function(e){alert("E-mail o contrase\xf1a incorrectos"),d(!1),u.noLoading2(),console.log("Error: ",e)}))},children:[Object(n.jsx)(z,{label:"E-mail",type:"email",value:o.email,name:"email",onChange:f,placeholder:"Enter email"}),Object(n.jsx)(z,{label:"Password",type:"password",placeholder:"Password",name:"password",onChange:f,value:o.password}),Object(n.jsxs)(w.a,{type:"submit",children:[b&&Object(n.jsx)(j.a,{animation:"border",size:"sm"}),"Login"]})]})]})})};var V=function(e){var t=Object(c.useState)(!1),a=Object(s.a)(t,2),o=a[0],r=a[1],i=Object(c.useState)(null),l=Object(s.a)(i,2),b=l[0],d=l[1],u=Object(c.useContext)(m),O=Object(c.useState)(!0),p=Object(s.a)(O,2),x=p[0],g=p[1],f=Object(c.useState)(!1),v=Object(s.a)(f,2),y=v[0],S=v[1],C=Object(c.useState)(""),I=Object(s.a)(C,2),E=I[0],L=I[1],N=Object(c.useState)({}),P=Object(s.a)(N,2),k=P[0],T=P[1];Object(c.useEffect)((function(){g(!0),console.log("email:",u.emailUser),h.db.collection("usuarios").where("email","==",u.emailUser).get().then((function(e){e.forEach((function(e){console.log("CONSULTA",e.id," => ",e.data().nombre),T(e.data()),L(e.id),g(!1)}))}))}),[]);var F=function(e){var t=document.getElementById("file-preview");null!==t&&t.remove();var a=e.target.files[0];if(a){r(!0);var n=new FileReader;n.readAsDataURL(a),n.onload=function(){var e=document.createElement("img");e.id="file-preview",e.style.height="70px",e.src=n.result,document.getElementById("vistaprevia").appendChild(e),r(!1)}}d(a)},A=function(){document.getElementById("inputfile").value="",d(null);var e=document.getElementById("file-preview");e.src="",e.remove()},M=function(e){var t=e.target,a=t.value,n=t.name;T(Object(U.a)(Object(U.a)({},k),{},Object(D.a)({},n,a)))},H=function(e){e.preventDefault(),r(!0);var t=localStorage.getItem("imagen");document.getElementById("file-preview").src!==t?h.storage().ref("imagenes/"+b.name).put(b).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done Loading:",x),e.state){case h.storage.TaskState.PAUSED:console.log("Upload is paused");break;case h.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){e.code}),(function(){h.storage().ref("imagenes").child(b.name).getDownloadURL().then((function(e){u.ponerfoto(e),h.db.doc("usuarios/"+E).set({nombre:k.nombre,apellido:k.apellido,email:k.email,telefono:k.telefono,foto:e},{merge:!0}).then((function(e){u.nombre(k.nombre),A(),g(!1),d(null),S(!1),r(!1)}))})).catch((function(e){console.log("Error getting documents: ",e)}))})):h.db.doc("usuarios/"+E).set({nombre:k.nombre,apellido:k.apellido,email:k.email,telefono:k.telefono},{merge:!0}).then((function(e){u.nombre(k.nombre),A(),r(!1),d(null),S(!1)}))},q=function(){S(!0)},V=function(){S(!1),d(null),A()};return Object(n.jsx)(m.Consumer,{children:function(e){return Object(n.jsx)(n.Fragment,{children:e.login&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(B.a,{children:[x&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:"spinner",children:Object(n.jsx)(j.a,{animation:"border",size:"me"})})]}),Object(n.jsxs)(B.a.Body,{children:[0==y&&0==x&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Nombre: "})})," ",k.nombre,Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Apellido: "})})," ",k.apellido,Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"E-mail: "})})," ",k.email,Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Tel\xe9fono: "})})," ",k.telefono,Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Foto: "})}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{children:[e.loadingImg&&Object(n.jsx)(j.a,{animation:"border",size:"me"}),Object(n.jsx)("img",{height:"70px",src:e.imagen})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(w.a,{onClick:q,children:"Editar datos"})]}),y&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(R.a,{onSubmit:H,children:[Object(n.jsx)(z,{label:"Nombre",type:"text",required:!0,value:k.nombre,onChange:M,name:"nombre"}),Object(n.jsx)(z,{label:"Apellido",type:"text",required:!0,value:k.apellido,onChange:M,name:"apellido"}),Object(n.jsx)(z,{label:"Telefono",type:"number",required:!0,value:k.telefono,onChange:M,name:"telefono"}),Object(n.jsx)("label",{children:Object(n.jsx)("strong",{children:"Foto: "})}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{id:"vistaprevia"}),Object(n.jsx)("img",{id:"file-preview",height:"70px ",src:e.imagen}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{id:"inputfile",type:"file",accept:"image/*",onChange:F}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(w.a,{type:"submit",children:[o&&Object(n.jsx)(j.a,{animation:"border",size:"sm"}),"Guardar cambios"]}),Object(n.jsx)(n.Fragment,{children:"    "}),Object(n.jsx)(w.a,{onClick:V,children:"Volver"})]}),Object(n.jsx)("br",{})]})]})]})})})}})};var J=function(e){var t=Object(c.useState)([]),a=Object(s.a)(t,2),o=a[0],r=a[1],i=e.match.params.category,b=Object(c.useState)(!1),d=Object(s.a)(b,2),u=d[0],m=d[1];return Object(c.useEffect)((function(){m(!0),fetch("https://fakestoreapi.com/products/category/"+i).then((function(e){return e.json()})).then((function(e){r(e),m(!1),console.log(e)}))}),[i]),u?Object(n.jsx)("div",{className:"spinner",children:Object(n.jsx)(j.a,{animation:"border",size:"me"})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(L.a,{className:"contain",children:[Object(n.jsxs)("h2",{children:["Productos de ",i,":"]}),Object(n.jsx)("br",{}),Object(n.jsx)(N.a,{children:o.map((function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(P.a,{children:Object(n.jsx)(B.a,{style:{width:"12rem"},children:Object(n.jsxs)(B.a.Body,{children:[Object(n.jsx)(B.a.Img,{variant:"top",src:e.image}),Object(n.jsx)("p",{children:e.title}),Object(n.jsx)(l.b,{to:"/productos/"+e.id,children:Object(n.jsx)(w.a,{children:"Ver detalle"})})]})})}),Object(n.jsx)("br",{})]})}))})]})]})};var G=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(g.a,{path:"/",exact:!0,component:M}),Object(n.jsx)(g.a,{path:"/productos",exact:!0,component:T}),Object(n.jsx)(g.a,{path:"/productos/page/:page",exact:!0,component:T}),Object(n.jsx)(g.a,{path:"/productos/:id",exact:!0,component:F}),Object(n.jsx)(g.a,{path:"/misdatos",exact:!0,component:V}),Object(n.jsx)(g.a,{path:"/registro",exact:!0,component:H}),Object(n.jsx)(g.a,{path:"/login",exact:!0,component:q}),Object(n.jsx)(g.a,{path:"/categorias",exact:!0,component:u}),Object(n.jsx)(g.a,{path:"/categorias/:category",exact:!0,component:J})]})};var W=function(e){var t=Object(c.useState)(localStorage.getItem("nombre")),a=Object(s.a)(t,2),o=a[0],r=a[1],i=Object(c.useState)(localStorage.getItem("email")),l=Object(s.a)(i,2),j=l[0],b=l[1],u=Object(c.useState)(localStorage.getItem("imagen")),O=Object(s.a)(u,2),p=O[0],x=O[1],h=localStorage.getItem("listaDeCompra"),g=new Array,f=Object(c.useState)(JSON.parse(h)),v=Object(s.a)(f,2),y=v[0],S=v[1],C=Object(c.useState)(localStorage.getItem("login")),I=Object(s.a)(C,2),E=I[0],w=I[1],B=Object(c.useState)(localStorage.getItem("primerProd")),L=Object(s.a)(B,2),N=L[0],P=L[1],k=Object(c.useState)(!1),T=Object(s.a)(k,2),F=T[0],A=T[1],M=Object(c.useState)(localStorage.getItem("precioTotal")),D=Object(s.a)(M,2);D[0],D[1],Object(c.useEffect)((function(){U(),H()}),[]);var U=function(){if(localStorage.getItem("primerProd")){var e=JSON.parse(localStorage.getItem("listaDeCompra")),t=document.createElement("div");document.body.appendChild(t),t.id="listaProductos";var a=document.createElement("Button"),n=document.createElement("Button");n.innerHTML="Cancelar",a.innerHTML="Max/Min",n.addEventListener("click",R,!1),a.addEventListener("click",H,!1);var c=document.createElement("ul");if(c.id="ulProds",null==e){var o=document.createElement("li"),r=localStorage.getItem("primerValor");o.innerHTML=r,c.appendChild(o),t.appendChild(c)}else for(var i=0;i<e.length;i++){var s=document.createElement("li");s.innerHTML=e[i],c.appendChild(s),t.appendChild(c)}t.appendChild(a),t.appendChild(n)}},R=function(){var e=document.getElementById("listaProductos");if(e)document.body.removeChild(e);localStorage.removeItem("primerProd"),localStorage.removeItem("primerValor"),P(null),localStorage.removeItem("listaDeCompra")},z=function(){var e=document.getElementById("ulProds");e&&"none"==e.style.display&&(e.style.display="block")},H=function(){var e=document.getElementById("ulProds");e&&("none"==e.style.display?e.style.display="block":e.style.display="none")},q=function(e){r(e),localStorage.setItem("nombre",e)},V=function(){w(!1),r(""),localStorage.removeItem("primerProd"),localStorage.removeItem("primerValor"),P(),localStorage.removeItem("listaDeCompra");var e=document.getElementById("listaProductos");if(e)document.body.removeChild(e);localStorage.removeItem("login"),localStorage.removeItem("nombre"),localStorage.removeItem("imagen"),localStorage.removeItem("email")};return Object(n.jsx)(m.Provider,{value:{login:E,guardarListaCompra:function(e){if(z(),null==N){g.push(e),P(!1),localStorage.setItem("primerProd",!1),S(g),localStorage.setItem("primerValor",e),localStorage.setItem("listaDeCompra",JSON.stringify(g));var t=document.createElement("div");document.body.appendChild(t),t.id="listaProductos";var a=document.createElement("Button");a.innerHTML="Max/Min";var n=document.createElement("ImArrowDownRight2"),c=document.createElement("Button");c.innerHTML="Cancelar",a.addEventListener("click",H,!1),c.addEventListener("click",R,!1);var o=document.createElement("ul");o.id="ulProds";var r=document.createElement("li");r.innerHTML=e,o.appendChild(r),t.appendChild(o),t.appendChild(a),t.appendChild(c),c.appendChild(n)}else{var i=document.getElementById("ulProds"),s=document.createElement("li");s.innerHTML=e,i.appendChild(s),null==y?(g.push(e),S(g),localStorage.setItem("listaDeCompra",JSON.stringify(y))):(y.push(e),localStorage.setItem("listaDeCompra",JSON.stringify(y)))}},primerProducto:N,regListaCompra:U,ocultarSesion:function(e){if(localStorage.getItem("login")){var t=d()("#usuario");if(d()("#exit").is(e.target))V();else if(!t.is(e.target)&&0===t.has(e.target).length)document.getElementById("idSesion").style.display="none"}},nombre:q,emailUser:j,guardarEmail:function(e){b(e),localStorage.setItem("email",e)},loading2:F,Loading2:function(){A(!0)},logUser:function(){w(!0),localStorage.setItem("login",!0)},logOut:V,minimizar:function(){var e=document.getElementById("ulProds");e&&(e.style.display="none")},activarMenu:function(e){d()(".active").removeClass("active"),d()("span[title|='"+e+"']").addClass("active"),sessionStorage.setItem("menuActivo",e)},usuario:o,noLoading2:function(){A(!1)},ponerNombre:q,imagen:p,ponerfoto:function(e){x(e),localStorage.setItem("imagen",e)}},children:e.children})};var _=function(){return Object(c.useContext)(m),Object(n.jsx)(W,{children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(y,{opciones:[{path:"/",boton:"Home"},{path:"/registro",boton:"Registro"},{path:"/login",boton:"Login"},{path:"/productos/1",boton:"Productos"},{path:"/categorias",boton:"Categorias"}]}),Object(n.jsx)("body",{style:{padding:"15px"},children:Object(n.jsx)(G,{})})]})})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),o(e),r(e)}))};i.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(_,{})}),document.getElementById("root")),K()}},[[71,1,2]]]);
//# sourceMappingURL=main.1d0e4750.chunk.js.map